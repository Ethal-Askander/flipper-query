<!DOCTYPE html>
<link rel="stylesheet" href="index.css">
<html lang="en">
<body>
<head>
    <title>Shoe Flipper</title>
    <link rel="shortcut icon" type="images/x-icon" href="../images/icon.ico" />
</head>

<div>
    <h1 class="title">Shoe Flipper</h1>
</div>

<div>
    <form action="/search" method="GET">
        <input type="text" name="q" id="search" placeholder="Search" />
    </form>
</div>

<p id="products" value="products" />

<script>
    // Attempt to get response headers
    var req = new XMLHttpRequest();
    req.open('GET', document.location, false);
    req.send(null);
    
    // Get the products from search
    const products = req.getResponseHeader('products');
    if (products) {
        document.getElementById('products').innerHTML = products;
    }

    // Alternatively, make a fetch request to the backend
    // getProducts("Jordan");
    // function getProducts(query) {
    //     fetch("http://localhost:8080/search?q=" + query, {method: 'GET'})
    //         .then(response => response.json())
    //         .then(data => document.getElementById('products').innerHTML = JSON.stringify(data))
    //         .catch(err => console.log(err));
    // }
</script>

</body>
</html>